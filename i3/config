# colors
# see .Xresources
set $foreground	#f0f0f0
set $background	#101010
set $black		#48483e
set $red		#dc2566
set $green		#8fc029
set $yellow		#d4c96e
set $blue		#55bcce
set $magenta	#9358fe
set $cyan		#56b7a5
set $white		#acada1

# change the notify ost to dunst
# todo: configure dunst
exec killall -q notify_os
exec --no-startup-id dunst

# auto-rename workspaces
exec_always --no-startup-id python3 ~/src/i3-autoname-workspaces.py/i3-autoname-workspaces.py

gaps inner 10
gaps outer 0
smart_gaps on

exec sh ~/autostart.sh
bindsym $mod+Shift+BackSpace exec ~/sh/lock-and-display-off.sh

bindsym $mod+bracketright workspace next
bindsym $mod+bracketleft workspace prev

set $mod Mod4

new_float normal 1

hide_edge_borders both

for_window [class="^.*"] border pixel 1

focus_follows_mouse no

# Pulse Audio controls
# bindsym XF86AudioRaiseVolume exec --no-startup-id amixer sset Master 3%+ #increase sound volume
# bindsym XF86AudioLowerVolume exec --no-startup-id amixer sset Master 3%- #decrease sound volume
bindsym XF86AudioMute exec pactl set-sink-mute 1 toggle # mute sound

font fixed

floating_modifier $mod

# start a terminal
bindsym $mod+Return exec --no-startup-id xterm

# kill focused window
bindsym $mod+Shift+q kill

set $dmenuopts -i -l 10 -y 300 -x 660 -h 20 -w 600
set $j4 j4-dmenu-desktop --no-generic --usage-log="/var/j4-dmenu-desktop/usage.log" --term=xterm

# dmenu and j4-dmenu-desktop
bindsym $mod+d exec --no-startup-id $j4 --dmenu="dmenu $dmenuopts"

# passmenu
set $passmenu ~/src/password-store/contrib/dmenu/passmenu
bindsym $mod+Tab exec --no-startup-id $passmenu $dmenuopts
bindsym $mod+Shift+Tab exec --no-startup-id $passmenu --type $dmenuopts

# change focus
bindsym $mod+l focus left
bindsym $mod+semicolon focus down
bindsym $mod+p focus up
bindsym $mod+apostrophe focus right
bindsym $mod+Left focus left
bindsym $mod+Down focus down
bindsym $mod+Up focus up
bindsym $mod+Right focus right

# move focused window
bindsym $mod+Shift+l move left
bindsym $mod+Shift+semicolon move down
bindsym $mod+Shift+p move up
bindsym $mod+Shift+apostrophe move right
bindsym $mod+Shift+Left move left
bindsym $mod+Shift+Down move down
bindsym $mod+Shift+Up move up
bindsym $mod+Shift+Right move right

# split in horizontal orientation
bindsym $mod+h split h

# split in vertical orientation
bindsym $mod+v split v

# enter fullscreen mode for the focused container
bindsym $mod+f fullscreen toggle

bindsym --release $mod+s exec gnome-screenshot -f "screenshots/$(date +%-m-%-d-%Y\ %-I:%M:%S\ %p).png"
bindsym --release $mod+Shift+s exec gnome-screenshot -a -f "screenshots/$(date +%-m-%-d-%Y\ %-I:%M:%S\ %p).png"
bindsym --release $mod+Control+s exec gnome-screenshot -w -f "screenshots/$(date +%-m-%-d-%Y\ %-I:%M:%S\ %p).png"

# toggle tiling / floating
bindsym $mod+Shift+space floating toggle

# change focus between tiling / floating windows
bindsym $mod+space focus mode_toggle

# switch to workspace
bindsym $mod+1 workspace number 1
bindsym $mod+2 workspace number 2
bindsym $mod+3 workspace number 3
bindsym $mod+4 workspace number 4
bindsym $mod+5 workspace number 5
bindsym $mod+6 workspace number 6
bindsym $mod+7 workspace number 7
bindsym $mod+8 workspace number 8
bindsym $mod+9 workspace number 9
bindsym $mod+0 workspace number 10

# move focused container to workspace
bindsym $mod+Shift+1 move container to workspace number 1
bindsym $mod+Shift+2 move container to workspace number 2
bindsym $mod+Shift+3 move container to workspace number 3
bindsym $mod+Shift+4 move container to workspace number 4
bindsym $mod+Shift+5 move container to workspace number 5
bindsym $mod+Shift+6 move container to workspace number 6
bindsym $mod+Shift+7 move container to workspace number 7
bindsym $mod+Shift+8 move container to workspace number 8
bindsym $mod+Shift+9 move container to workspace number 9
bindsym $mod+Shift+0 move container to workspace number 10

# reload the configuration file
bindsym $mod+Shift+c reload

# restart i3 inplace (preserves your layout/session, can be used to upgrade i3)
bindsym $mod+Shift+r restart

# resize window (you can also use the mouse for that)
mode "resize" {
        bindsym l resize shrink width 10 px or 1 ppt
        bindsym semicolon resize grow height 10 px or 1 ppt
        bindsym p resize shrink height 10 px or 1 ppt
        bindsym apostrophe resize grow width 10 px or 1 ppt

        bindsym Shift+l resize shrink width 1px
        bindsym Shift+semicolon resize grow height 1px
        bindsym Shift+p resize shrink height 1px
        bindsym Shift+apostrophe resize grow width 1px

        # back to normal: Enter or Escape
        bindsym Return mode "default"
        bindsym Escape mode "default"
}

bindsym $mod+r mode "resize"

# Start i3bar to display a workspace bar (plus the system information i3status
# finds out, if available)
bar {
	status_command  ~/sh/status.sh
	position		top
    colors {
        background $background
        statusline $foreground

        focused_workspace  $red			$red		#000000
        inactive_workspace $background	$background	#f8f8f8
        urgent_workspace   $yellow		$yellow		#000000 
    }
	strip_workspace_numbers yes
}

client.focused             $red 		$red		#ffffff		$blue
client.focused_inactive    $background	$background	#ffffff		$background
client.unfocused           $background	$background	#ffffff		#666666
client.urgent              $yellow		$yellow		#ffffff		#FF0000

set $Locker i3lock && sleep 1

set $mode_system system (l) lock, (e) logout, (r) reboot, (s) shutdown
mode "$mode_system" {
    bindsym l exec --no-startup-id $Locker, mode "default"
    bindsym e exec --no-startup-id i3-msg exit, mode "default"
    bindsym r exec --no-startup-id systemctl reboot, mode "default"
    bindsym s exec --no-startup-id systemctl poweroff -i, mode "default"  

    # back to normal: Enter or Escape
    bindsym Return mode "default"
    bindsym Escape mode "default"
}

bindsym $mod+Escape mode "$mode_system"
